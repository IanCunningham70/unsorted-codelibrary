;---------------------------------------ALINE    = 1024ACOLS    = $D400+ALINEATEXT    = $5800APAGE    = $AAAPAGE2   = APAGE+2APAGE3   = APAGE2+2;---------------------------------------;---------------------------------------         LDA #$06         STA ACHECK         STA AWIDTH         JSR AINIT         LDA #<ALINE+39         STA APAGE3         LDA #>ALINE+39         STA APAGE3+1         LDA #<$2000         STA APAGE2         LDA #>$2000         STA APAGE2+1;---------------------------------------;---------------------------------------ASCROLL  LDA AXPOS         SEC         SBC #$05         AND #$07         STA AXPOS         BCC ASC1         RTS         ;ASC1     LDX #$00ASC2     LDA ALINE+(40*15)+1,X         STA ALINE+(40*15),X         LDA ALINE+(40*14)+1,X         STA ALINE+(40*14),X         LDA ALINE+(40*13)+1,X         STA ALINE+(40*13),X         LDA ALINE+(40*12)+1,X         STA ALINE+(40*12),X         LDA ALINE+(40*11)+1,X         STA ALINE+(40*11),X         LDA ALINE+(40*10)+1,X         STA ALINE+(40*10),X         LDA ALINE+(40*9)+1,X         STA ALINE+(40*9),X         LDA ALINE+(40*8)+1,X         STA ALINE+(40*8),X         LDA ALINE+(40*7)+1,X         STA ALINE+(40*7),X         LDA ALINE+(40*6)+1,X         STA ALINE+(40*6),X         LDA ALINE+(40*5)+1,X         STA ALINE+(40*5),X         LDA ALINE+(40*4)+1,X         STA ALINE+(40*4),X         LDA ALINE+(40*3)+1,X         STA ALINE+(40*3),X         LDA ALINE+(40*2)+1,X         STA ALINE+(40*2),X         LDA ALINE+(40*1)+1,X         STA ALINE+(40*1),X         LDA ALINE+(40*0)+1,X         STA ALINE+(40*0),X         INX         CPX #40         BNE ASC2         ;         LDA AWIDTHACHECK   = *+1         CMP #$04         BNE ASC3         ;         JSR ANEXT         LDA #$00         STA AWIDTH         ;ASC3     LDX #$00         LDY #$00DOSWEEP  LDA (APAGE2),Y         STA (APAGE3),Y         LDA APAGE3         CLC         ADC #40         STA APAGE3         LDA APAGE3+1         ADC #$00         STA APAGE3+1         INC APAGE2+1         INX         CPX #16         BNE DOSWEEP         ;         INC AWIDTH         INC APAGE2         LDA #>$2000         STA APAGE2+1         LDA #<ALINE+39         STA APAGE3         LDA #>ALINE+39         STA APAGE3+1         RTSANEXT    LDA #$06         STA ACHECK         LDY #$00         LDA (APAGE),Y         BNE ANEXT0         JSR AINIT         JMP ANEXTANEXT0   TAX         LDA $1F40,X         STA ACHECK         LDA $1F00,X         STA APAGE2         LDA #>$2000         STA APAGE2+1         LDA #<ALINE+39         STA APAGE3         LDA #>ALINE+39         STA APAGE3+1         INC APAGE         BNE ANEXT3         INC APAGE+1ANEXT3   RTSAINIT    LDA #<ATEXT         STA APAGE         LDA #>ATEXT         STA APAGE+1         RTS;---------------------------------------AWIDTH   .BYTE $00AXPOS    .BYTE $00;---------------------------------------