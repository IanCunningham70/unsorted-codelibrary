WPAGE    = $BADPAGE    = WPAGE+2SCROLLER LDX #$00MOVELEFT LDA BLINE+1,X         STA BLINE,X         LDA BLINE+41,X         STA BLINE+40,X         LDA BLINE+81,X         STA BLINE+80,X         LDA BLINE+121,X         STA BLINE+120,X         LDA BLINE+161,X         STA BLINE+160,X         LDA BLINE+201,X         STA BLINE+200,X         LDA BLINE+241,X         STA BLINE+240,X         LDA BLINE+281,X         STA BLINE+280,X         INX         CPX #$28         BNE MOVELEFT         ;         LDA #$20         CLC         ROL CBYTE0         BCC LINE0         LDA BSCOLLINE0    STA BLINE+39         LDA #$00         CLC         ROL CBYTE1         BCC LINE1         LDA BSCOLLINE1    STA BLINE+79         LDA #$00         CLC         ROL CBYTE2         BCC LINE2         LDA BSCOLLINE2    STA BLINE+119         LDA #$00         CLC         ROL CBYTE3         BCC LINE3         LDA BSCOLLINE3    STA BLINE+159         LDA #$00         CLC         ROL CBYTE4         BCC LINE4         LDA BSCOLLINE4    STA BLINE+199         LDA #$00         CLC         ROL CBYTE5         BCC LINE5         LDA BSCOLLINE5    STA BLINE+239         LDA #$00         CLC         ROL CBYTE6         BCC LINE6         LDA BSCOLLINE6    STA BLINE+279         LDA #$00         CLC         ROL CBYTE7         BCC LINE7         LDA BSCOLLINE7    STA BLINE+319         ;         INC CWIDTH         LDA CWIDTHCHARSIZE = *+1         CMP #$08         BNE CHAREXIT         LDA #$00         STA CWIDTH         LDA #$00         STA CPAGE+1         LDY #$00         LDA (TPAGE),Y         ;         CMP #$1F         BNE CHAR2         ;         JSR SETCOL         ;CHAR2    TAX         LDY WIDTHS,X         STY CHARSIZE         INC TPAGE         BNE CALCPOS         INC TPAGE+1CALCPOS  STA CPAGE         ASL CPAGE         ROL CPAGE+1         ASL CPAGE         ROL CPAGE+1         ASL CPAGE         ROL CPAGE+1         CLC         LDA CPAGE+1         ADC #>CHARSET         STA CPAGE+1         LDY #$00PLOTCHAR LDA (CPAGE),Y         STA CBYTE0,Y         INY         CPY #$08         BNE PLOTCHAR         LDY #$00         LDA (TPAGE),Y         BEQ INITTEXTCHAREXIT RTSINITTEXT LDX #$00         LDY #$4C         STX TPAGE         STY TPAGE+1         RTSSETCOL   INC TPAGE         BNE SETC1         INC TPAGE+1SETC1    LDY #$00         LDA (TPAGE),Y         STA BSCOL         INC TPAGE         BNE SETC2         INC TPAGE+1SETC2    LDY #$00         LDA (TPAGE),YSETCOL1  RTS;---------------------------------------BSCOL    .BYTE $02,$00         ;CBYTE0   .BYTE $00CBYTE1   .BYTE $00CBYTE2   .BYTE $00CBYTE3   .BYTE $00CBYTE4   .BYTE $00CBYTE5   .BYTE $00CBYTE6   .BYTE $00CBYTE7   .BYTE $00CWIDTH   .BYTE $00;---------------------------------------WIDTHS   .BYTE $08,$08,$08,$08,$08,$08         .BYTE $08,$08,$08,$06,$07,$08         .BYTE $06,$09,$08,$08,$08,$08         .BYTE $08,$08,$08,$08,$08,$09         .BYTE $08,$08,$08,$06,$09,$06         .BYTE $08,$09,$05,$04,$08,$09         .BYTE $08,$08,$09,$06,$06,$06         .BYTE $09,$08,$05,$08,$04,$09         .BYTE $08,$08,$08,$08,$09,$08         .BYTE $08,$08,$08,$08,$04,$05         .BYTE $08,$08,$08,$08,$09,$08         .BYTE $08,$08,$08,$08,$08,$08         .BYTE $08,$06,$08,$08,$08,$09         .BYTE $08,$08,$08,$08,$08,$08         .BYTE $08,$08,$08,$09,$08,$08