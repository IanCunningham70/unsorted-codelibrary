;---------------------------------------         ; 12 BY 12 ÓCROLL ÒOUTINE.;---------------------------------------ALINE    = 1024APAGE    = $AAACHAR    = APAGE+2ATEMP    = ACHAR+2SPAGE    = ATEMP+2         ;ATEXT    = $4000;---------------------------------------         *= $0900         ;         SEI         LDX #$FF         TXS         LDA #$08         STA $D021         STA 646         JSR $E544         LDA #$00         STA $D020         STA $D021         STA 650         LDA #$80         STA 657         ;         LDA #$0C         STA AWIDTH         JSR AINIT         ;         LDA #$7F         STA $DC0D         LDA $DC0D         LDA #$1B         STA $D011         LDA #$01         STA $D012         STA $D019         STA $D01A         LDA #<IRQ         STA $0314         LDA #>IRQ         STA $0315         CLI         ;CASE     JMP CASE;---------------------------------------IRQ         LDA #24         STA $D018         LDA #216         STA $D016         LDA $D016         AND #$F0         ORA AXPOS         STA $D016         LDA #$06         STA $D021         LDA #$0E         STA $D022         LDA #$0F         STA $D023         ;         LDX #(13*8)+$32         CPX $D012         BNE *-3         LDX #$0A         DEX         BNE *-1         LDA #200         STA $D016         LDA #$00         STA $D021         DEC $D020         JSR ASCROLL         INC $D020         ;         LDA #$01         STA $D019         JMP $EA31;---------------------------------------ASCROLL  LDA AXPOS         SEC         SBC #$03         AND #$07         STA AXPOS         BCC ASC1         RTS         ;ASC1     LDX #$00ASC2     LDA ALINE+1,X         STA ALINE,X         LDA ALINE+41,X         STA ALINE+40,X         LDA ALINE+81,X         STA ALINE+80,X         LDA ALINE+121,X         STA ALINE+120,X         LDA ALINE+161,X         STA ALINE+160,X         LDA ALINE+201,X         STA ALINE+200,X         LDA ALINE+241,X         STA ALINE+240,X         LDA ALINE+281,X         STA ALINE+280,X         LDA ALINE+321,X         STA ALINE+320,X         LDA ALINE+361,X         STA ALINE+360,X         LDA ALINE+401,X         STA ALINE+400,X         LDA ALINE+441,X         STA ALINE+440,X         INX         CPX #40         BNE ASC2         ;         LDA AWIDTHACHECK   = *+1         CMP #$0C         BNE ASC3         ;         JSR ANEXT         ;         LDA #$00         STA AWIDTH         ;ASC3     LDA ATEMP         STA ACHAR         LDA ATEMP+1         STA ACHAR+1         LDA #<ALINE+39         STA SPAGE         LDA #>ALINE+39         STA SPAGE+1         ;         LDX #$00PLOTNEXT LDY #$00         LDA (ACHAR),Y         STA (SPAGE),Y         ;         LDA SPAGE         CLC         ADC #40         STA SPAGE         LDA SPAGE+1         ADC #$00         STA SPAGE+1         LDA ACHAR         CLC         ADC #$00         STA ACHAR         LDA ACHAR+1         ADC #$02         STA ACHAR+1         INX         CPX #12         BNE PLOTNEXT         LDA ATEMP         CLC         ADC #$01         STA ATEMP         LDA ATEMP+1         ADC #$00         STA ATEMP+1         INC AWIDTH         RTS         ;ANEXT    LDY #$00         LDA (APAGE),Y         BNE ANEXT0         ;         JSR AINIT         JMP ANEXT         ;ANEXT0   TAX         DEX         LDA WIDTHS,X         STA ACHECK         LDA TABLO,X         STA ATEMP         LDA TABHI,X         STA ATEMP+1         ;         INC APAGE         BNE ANEXT3         INC APAGE+1ANEXT3   RTS         ;AINIT    LDA #<ATEXT         STA APAGE         LDA #>ATEXT         STA APAGE+1         RTS;---------------------------------------AWIDTH   .BYTE $00,$EAAXPOS    .BYTE $00,$EA;---------------------------------------TABLO    = $0F00TABHI    = $0F40WIDTHS   = $0F80;---------------------------------------;TABLO    .BYTE $00,$0C,$18,$24,$30,$3C         .BYTE $48,$54,$60,$6C,$78,$84         .BYTE $90,$9C,$A8,$B4,$C0,$CC         .BYTE $D8,$E4,$F0,$FC,$08,$14         .BYTE $20,$2C,$38,$44,$50,$5C         .BYTE $68,$74,$80,$8C,$98,$A4         .BYTE $B0,$BC,$C8,$D4,$E0,$EC         .BYTE $F8,$04,$10,$1C,$28,$34         .BYTE $40,$4C,$58,$64,$70,$7C         .BYTE $88,$94,$A0,$AC,$B8,$C4         .BYTE $D0,$DC,$E8,$F4;TABHI    .BYTE $28,$28,$28,$28,$28,$28         .BYTE $28,$28,$28,$28,$28,$28         .BYTE $28,$28,$28,$28,$28,$28         .BYTE $28,$28,$28,$28,$29,$29         .BYTE $29,$29,$29,$29,$29,$29         .BYTE $29,$29,$29,$29,$29,$29         .BYTE $29,$29,$29,$29,$29,$29         .BYTE $29,$2A,$2A,$2A,$2A,$2A         .BYTE $2A,$2A,$2A,$2A,$2A,$2A         .BYTE $2A,$2A,$2A,$2A,$2A,$2A         .BYTE $2A,$2A,$2A,$2A;WIDTHS   .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$06,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C,$0C,$0C         .BYTE $0C,$0C,$0C,$0C;---------------------------------------