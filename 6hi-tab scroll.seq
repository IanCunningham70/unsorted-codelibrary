;---------------------------------------SCROLL   LDA XPOS         SEC         SBC #$01         AND #$07         STA XPOS         BCC SCROLL1         RTSSCROLL1  LDX #$00         LDA ALINE+1,X         STA ALINE,X         LDA ALINE+41,X         STA ALINE+40,X         LDA ALINE+81,X         STA ALINE+80,X         LDA ALINE+121,X         STA ALINE+120,X         LDA ALINE+161,X         STA ALINE+160,X         LDA ALINE+201,X         STA ALINE+200,X         INX         CPX #39         BNE SCROLL1+2         LDA SIZE2         CMP SIZE         BNE SCROLL2         JSR NEXTCHAR         JMP SCROLL3SCROLL2  LDA CHAR         CLC         ADC #$01         STA CHAR         LDA CHAR+1         ADC #$00         STA CHAR+1SCROLL3  LDY #$00         LDA (CHAR),Y         STA ALINE+39         LDY #40         LDA (CHAR),Y         STA ALINE+79         LDY #80         LDA (CHAR),Y         STA ALINE+119         LDY #120         LDA (CHAR),Y         STA ALINE+159         LDY #160         LDA (CHAR),Y         STA ALINE+199         LDY #200         LDA (CHAR),Y         STA ALINE+239         INC SIZE2         RTS;---------------------------------------NEXTCHAR LDY #$00         STY SIZE2         LDA (TEXT),Y         BNE NEXTC1         JSR INIT         JMP NEXTCHARNEXTC1   AND #$3F         TAY         LDA TABLO,Y         STA CHAR         LDA TABHI,Y         STA CHAR+1         LDA WIDTH,Y         STA SIZE         INC TEXT         BNE NEXTC3         INC TEXT+1NEXTC3   RTS;---------------------------------------INIT     LDX #<STEXT         LDY #>STEXT         STX TEXT         STY TEXT+1         LDA #$00         STA SIZE         STA SIZE2         RTS;---------------------------------------